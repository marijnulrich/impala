<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=1" />
    <title>Test Page</title>
    <link rel="preconnect" href="https://use.typekit.net" crossorigin />
    <link rel="stylesheet" rel="preload" as="font" href="https://use.typekit.net/.css?v=1738008559" />
</head>
<body>
    <h1>Welcome to My Test Page</h1>
    <button id="sendStatement">Send xAPI Statement</button>

    <script>
        document.getElementById('sendStatement').addEventListener('click', function() {
            const statement = {
                actor: {
                    mbox: "mailto:student@example.com",
                    name: "Student Name"
                },
                verb: {
                    id: "http://adlnet.gov/expapi/verbs/completed",
                    display: { "en-US": "completed" }
                },
                object: {
                    id: "http://example.com/activities/lesson1",
                    definition: {
                        name: { "en-US": "Lesson 1" },
                        description: { "en-US": "The first lesson" }
                    }
                }
            };

            fetch('https://watershedlrs.com/api/organizations/26822/lrs/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + btoa('89c9db57c4714b:91e213c7ccb109')
                },
                body: JSON.stringify(statement)
            })
            .then(response => response.json())
            .then(data => console.log('Statement sent successfully:', data))
            .catch(error => console.error('Error sending statement:', error));
        });
    </script>
</body>
</html>
